<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é•·è€…æ†‚é¬±é‡è¡¨ (GDS-15) - é—œå¿ƒæ‚¨çš„å¿ƒæƒ…</title>
    <style>
        :root {
            --primary-color: #6d9dc5;
            --bg-color: #fdfbf7;
            --text-color: #333;
            --card-bg: #ffffff;
            --select-color: #e6f2ff;
            --warm-orange: #ffab73;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            font-size: 2em;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        /* å€‹äººè³‡æ–™å€å¡Š */
        .profile-section {
            background-color: #f0f7fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px dashed var(--primary-color);
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            font-size: 1.2em;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 12px;
            font-size: 1.1em;
            border: 2px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
        }

        /* é¡Œç›®å€å¡Š */
        .question-item {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        /* å¤§æŒ‰éˆ•é¸é …è¨­è¨ˆ */
        .options {
            display: flex;
            gap: 20px;
        }

        .option-label {
            flex: 1;
            padding: 15px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }

        /* éš±è—åŸæœ¬çš„ radio button */
        input[type="radio"] {
            display: none;
        }

        /* é¸ä¸­æ™‚çš„æ¨£å¼ */
        input[type="radio"]:checked + .option-label {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: scale(1.02);
            box-shadow: 0 2px 8px rgba(109, 157, 197, 0.4);
        }

        /* é€å‡ºæŒ‰éˆ• */
        .submit-btn {
            display: block;
            width: 100%;
            padding: 20px;
            background-color: var(--warm-orange);
            color: white;
            font-size: 1.5em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            transition: transform 0.2s;
        }

        .submit-btn:hover {
            transform: scale(1.02);
            background-color: #ff964f;
        }

        /* çµæœå€å¡Š */
        #result-section {
            display: none;
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background-color: #fff8f0;
            border-radius: 20px;
            border: 3px solid var(--warm-orange);
            animation: fadeIn 0.5s;
        }

        .date-display {
            font-size: 1.1em;
            color: #888;
            margin-bottom: 10px;
        }

        .score-display {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .message-display {
            font-size: 1.4em;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
        }

        .illustration {
            max-width: 300px;
            height: auto;
            margin: 20px auto;
        }

        .warning {
            color: #d9534f;
            background-color: #f9d6d5;
        }
        
        .caution {
            color: #8a6d3b;
            background-color: #fcf8e3;
        }

        .good {
            color: #3c763d;
            background-color: #dff0d8;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
        @media (max-width: 600px) {
            .options {
                flex-direction: column;
                gap: 10px;
            }
            h1 { font-size: 1.5em; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ’• é•·è€…æ†‚é¬±é‡è¡¨ (GDS)</h1>
    <p class="subtitle">èŠ±ä¸€é»æ™‚é–“ï¼Œé—œå¿ƒè‡ªå·±çš„å¿ƒæƒ…</p>

    <div class="profile-section">
        <div class="input-group">
            <label for="username">æ‚¨çš„åå­— (æˆ–æš±ç¨±)ï¼š</label>
            <input type="text" id="username" placeholder="è«‹è¼¸å…¥åå­—">
        </div>
        <div class="input-group">
            <label for="age">æ‚¨çš„å¹´é½¡ï¼š</label>
            <input type="number" id="age" placeholder="è«‹è¼¸å…¥æ•¸å­—">
        </div>
        <div class="input-group">
            <label>æ‚¨çš„æ€§åˆ¥ï¼š</label>
            <div class="options">
                <label style="flex:1;">
                    <input type="radio" name="gender" value="male">
                    <div class="option-label">ç”·</div>
                </label>
                <label style="flex:1;">
                    <input type="radio" name="gender" value="female">
                    <div class="option-label">å¥³</div>
                </label>
            </div>
        </div>
    </div>

    <form id="gds-form">
        <div id="questions-container"></div>
        
        <button type="button" class="submit-btn" onclick="calculateScore()">çœ‹çµæœ</button>
    </form>

    <div id="result-section">
        <div class="date-display" id="result-date"></div>
        <div id="result-image-container"></div>
        <div class="score-display" id="result-score"></div>
        <div class="message-display" id="result-message"></div>
        <p id="greeting-text"></p>
        <button class="submit-btn" style="background-color: #6d9dc5; margin-top:20px;" onclick="location.reload()">é‡æ–°æ¸¬é©—</button>
    </div>
</div>

<script>
    // é¡Œç›®è³‡æ–™åº« (scoreYes: 1 ä»£è¡¨é¸ã€Œæ˜¯ã€å¾—1åˆ†ï¼Œ0 ä»£è¡¨é¸ã€Œæ˜¯ã€å¾—0åˆ†)
    const questions = [
        { text: "1. å°æ‚¨çš„ç”Ÿæ´»æ»¿æ„å—ï¼Ÿ", scoreYes: 0, scoreNo: 1 },
        { text: "2. æ‚¨æ˜¯å¦æ¸›å°‘å¾ˆå¤šçš„æ´»å‹•å’Œæœ‰èˆˆè¶£çš„äº‹ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "3. æ‚¨æ˜¯å¦è¦ºå¾—æ‚¨çš„ç”Ÿæ´»å¾ˆç©ºè™›ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "4. æ‚¨æ˜¯å¦å¸¸å¸¸æ„Ÿåˆ°å­ç…©ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "5. æ‚¨æ˜¯å¦å¤§éƒ¨åˆ†æ™‚é–“ç²¾ç¥éƒ½å¾ˆå¥½ï¼Ÿ", scoreYes: 0, scoreNo: 1 },
        { text: "6. æ‚¨æ˜¯å¦æœƒå¸¸å¸¸å®³æ€•å°‡æœ‰ä¸å¹¸çš„äº‹æƒ…ç™¼ç”Ÿåœ¨æ‚¨èº«ä¸Šï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "7. æ‚¨æ˜¯å¦å¤§éƒ¨åˆ†çš„æ™‚é–“éƒ½æ„Ÿåˆ°å¿«æ¨‚ï¼Ÿ", scoreYes: 0, scoreNo: 1 },
        { text: "8. æ‚¨æ˜¯å¦å¸¸å¸¸æ„Ÿåˆ°ç„¡è«–åšä»€éº¼äº‹éƒ½æ²’æœ‰ç”¨ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "9. æ‚¨æ˜¯å¦æ¯”è¼ƒå–œæ­¡å¾…åœ¨å®¶è£¡ï¼Œè€Œè¼ƒä¸å–œæ­¡å¤–å‡ºåŠä¸å–œæ­¡åšæ–°çš„äº‹ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "10. æ‚¨æ˜¯å¦è¦ºå¾—ç¾åœ¨æœ‰è¨˜æ†¶åŠ›ä¸å¥½çš„å›°æ“¾ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "11. æ‚¨æ˜¯å¦è¦ºå¾—ã€ç¾åœ¨é‚„èƒ½æ´»è‘—ã€‘æ˜¯å¾ˆå¥½çš„äº‹ï¼Ÿ", scoreYes: 0, scoreNo: 1 },
        { text: "12. æ‚¨æ˜¯å¦è¦ºå¾—æ‚¨ç¾åœ¨æ´»å¾—å¾ˆæ²’æœ‰åƒ¹å€¼ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "13. æ‚¨æ˜¯å¦è¦ºå¾—ç²¾åŠ›å¾ˆå……æ²›ï¼Ÿ", scoreYes: 0, scoreNo: 1 },
        { text: "14. æ‚¨æ˜¯å¦æ„Ÿè¦ºæ‚¨ç¾åœ¨çš„æƒ…æ³æ˜¯æ²’æœ‰å¸Œæœ›çš„ï¼Ÿ", scoreYes: 1, scoreNo: 0 },
        { text: "15. æ‚¨æ˜¯å¦è¦ºå¾—å¤§éƒ¨åˆ†çš„äººéƒ½æ¯”æ‚¨æ›´å¹¸ç¦ï¼Ÿ", scoreYes: 1, scoreNo: 0 }
    ];

    // åˆå§‹åŒ–é¡Œç›®
    const container = document.getElementById('questions-container');
    questions.forEach((q, index) => {
        const div = document.createElement('div');
        div.className = 'question-item';
        div.innerHTML = `
            <div class="question-text">${q.text}</div>
            <div class="options">
                <label>
                    <input type="radio" name="q${index}" value="yes" data-score="${q.scoreYes}">
                    <div class="option-label">æ˜¯</div>
                </label>
                <label>
                    <input type="radio" name="q${index}" value="no" data-score="${q.scoreNo}">
                    <div class="option-label">å¦</div>
                </label>
            </div>
        `;
        container.appendChild(div);
    });

    // SVG åœ–ç‰‡ç”Ÿæˆå‡½æ•¸ (æ‰‹ç¹ªé¢¨æ ¼)
    function getSVG(type) {
        if (type === 'good') {
            // å¿«æ¨‚çš„å¤ªé™½
            return `<svg class="illustration" viewBox="0 0 200 200">
                <circle cx="100" cy="100" r="60" fill="#fff3cd" stroke="#ffa000" stroke-width="3" />
                <path d="M70 90 Q80 100 90 90 M110 90 Q120 100 130 90" stroke="#ffa000" stroke-width="3" fill="none"/>
                <path d="M70 120 Q100 150 130 120" stroke="#ffa000" stroke-width="3" fill="none" />
                <line x1="100" y1="20" x2="100" y2="40" stroke="#ffa000" stroke-width="3" />
                <line x1="100" y1="160" x2="100" y2="180" stroke="#ffa000" stroke-width="3" />
                <line x1="20" y1="100" x2="40" y2="100" stroke="#ffa000" stroke-width="3" />
                <line x1="160" y1="100" x2="180" y2="100" stroke="#ffa000" stroke-width="3" />
                <line x1="45" y1="45" x2="60" y2="60" stroke="#ffa000" stroke-width="3" />
                <line x1="140" y1="140" x2="155" y2="155" stroke="#ffa000" stroke-width="3" />
                <line x1="45" y1="155" x2="60" y2="140" stroke="#ffa000" stroke-width="3" />
                <line x1="140" y1="60" x2="155" y2="45" stroke="#ffa000" stroke-width="3" />
            </svg>`;
        } else if (type === 'caution') {
            // æº«æš–çš„ç†±èŒ¶èˆ‡æ„›å¿ƒ
            return `<svg class="illustration" viewBox="0 0 200 200">
                <path d="M50 80 L50 140 Q50 160 100 160 Q150 160 150 140 L150 80 Z" fill="#ffe0b2" stroke="#ffab73" stroke-width="3"/>
                <path d="M150 100 Q180 100 180 120 Q180 140 150 140" fill="none" stroke="#ffab73" stroke-width="3"/>
                <path d="M70 60 Q80 40 70 20 M100 60 Q110 40 100 20 M130 60 Q140 40 130 20" stroke="#ccc" stroke-width="2" fill="none"/>
                <path d="M100 100 L110 110 L130 90 L110 130 L90 110 Z" fill="#ff6b6b" opacity="0.6"/>
                <text x="100" y="190" text-anchor="middle" fill="#888" font-size="14">ä¼‘æ¯ä¸€ä¸‹ï¼Œå–æ¯èŒ¶</text>
            </svg>`;
        } else {
            // é†«ç”Ÿ/ç‡ˆå¡”å¼•å°
            return `<svg class="illustration" viewBox="0 0 200 200">
                <rect x="80" y="60" width="40" height="100" fill="#fff" stroke="#6d9dc5" stroke-width="3"/>
                <polygon points="80,60 100,30 120,60" fill="#6d9dc5"/>
                <circle cx="100" cy="60" r="10" fill="#fff6e5" stroke="#6d9dc5" stroke-width="2"/>
                <line x1="100" y1="60" x2="200" y2="100" stroke="#f0ad4e" stroke-width="2" stroke-dasharray="5,5"/>
                <line x1="100" y1="60" x2="0" y2="100" stroke="#f0ad4e" stroke-width="2" stroke-dasharray="5,5"/>
                <rect x="90" y="100" width="20" height="30" fill="#6d9dc5"/>
                <text x="100" y="180" text-anchor="middle" fill="#6d9dc5" font-size="14">å°ˆæ¥­çš„å”åŠ©æ˜¯æœ€å¥½çš„ä¾é </text>
            </svg>`;
        }
    }

    function calculateScore() {
        // 1. æª¢æŸ¥åŸºæœ¬è³‡æ–™
        const name = document.getElementById('username').value.trim();
        const age = document.getElementById('age').value;
        const gender = document.querySelector('input[name="gender"]:checked');

        if (!name || !age || !gender) {
            alert("è«‹è¨˜å¾—å¡«å¯«ä¸Šé¢çš„åŸºæœ¬è³‡æ–™ï¼ˆåå­—ã€å¹´é½¡å’Œæ€§åˆ¥ï¼‰å–”ï¼");
            window.scrollTo(0, 0);
            return;
        }

        // 2. è¨ˆç®—åˆ†æ•¸èˆ‡æª¢æŸ¥æ¼å¡«
        let totalScore = 0;
        let allAnswered = true;

        for (let i = 0; i < questions.length; i++) {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            if (!selected) {
                allAnswered = false;
                // æ¨™è¨˜æœªå¡«å¯«çš„é¡Œç›®
                document.getElementsByClassName('question-item')[i].style.backgroundColor = "#fff0f0";
            } else {
                totalScore += parseInt(selected.getAttribute('data-score'));
                document.getElementsByClassName('question-item')[i].style.backgroundColor = "transparent";
            }
        }

        if (!allAnswered) {
            alert("é‚„æœ‰é¡Œç›®å¿˜è¨˜å‹¾é¸å–”ï¼Œè«‹æª¢æŸ¥ä¸€ä¸‹ç´…è‰²çš„å€åŸŸï¼");
            return;
        }

        // 3. é¡¯ç¤ºçµæœ
        const now = new Date();
        const dateStr = `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ${now.getDate()}æ—¥`;
        
        document.getElementById('result-date').innerText = `æ¸¬é©—æ—¥æœŸï¼š${dateStr}`;
        document.getElementById('result-score').innerText = `ç¸½åˆ†ï¼š${totalScore} åˆ†`;
        document.getElementById('greeting-text').innerText = `${name} æ‚¨å¥½ï¼Œæ ¹æ“šæ‚¨ä»Šå¤©çš„æ¸¬é©—çµæœï¼š`;

        const resultMsg = document.getElementById('result-message');
        const imgContainer = document.getElementById('result-image-container');

        // éš±è—è¡¨å–®ï¼Œé¡¯ç¤ºçµæœ
        document.getElementById('gds-form').style.display = 'none';
        document.querySelector('.profile-section').style.display = 'none';
        document.querySelector('.subtitle').style.display = 'none';
        const resultSection = document.getElementById('result-section');
        resultSection.style.display = 'block';

        // åˆ¤æ–·é‚è¼¯
        if (totalScore >= 11) {
            resultMsg.innerHTML = "æœ‰é«˜é¢¨éšªæ†‚é¬±æƒ…å½¢<br>å»ºè­°è‡´èº«å¿ƒç§‘å°‹æ±‚å°ˆæ¥­é†«ç™‚æœå‹™";
            resultMsg.className = "message-display warning";
            imgContainer.innerHTML = getSVG('severe');
        } else if (totalScore >= 7) {
            resultMsg.innerHTML = "ç–‘æœ‰æ†‚é¬±å‚¾å‘<br>å¯è‡³è¡›ç”Ÿæ‰€é ç´„ç›¸é—œè«®è©¢æœå‹™å–”";
            resultMsg.className = "message-display caution";
            imgContainer.innerHTML = getSVG('caution');
        } else {
            resultMsg.innerHTML = "æ‚¨çš„å¿ƒæƒ…ç‹€æ…‹ç›®å‰å¾ˆå¹³ç©©<br>ç¹¼çºŒä¿æŒæ¨‚æ´»å¥½å¿ƒæƒ…ï¼";
            resultMsg.className = "message-display good";
            imgContainer.innerHTML = getSVG('good');
        }
        
        // æ»¾å‹•åˆ°çµæœ
        resultSection.scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>
